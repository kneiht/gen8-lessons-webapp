<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bài Kiểm Tra Ngữ Pháp - Grammar Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @media print {
            .print\:hidden { display: none !important; }
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="test-paper max-w-2xl mx-auto bg-white shadow-lg print:shadow-none    rounded-lg p-8 mt-8 print:mt-0">
        <div class="header text-center mb-8">
            <h3 class="text-xl font-bold text-blue-800">PRE GRADE 6 - ENGLISH GRAMMAR TEST 2 - (PAPER 4)</h3>
            <p class="mb-2"><strong>Time:</strong> 60 minutes | <strong>Full name:</strong> <input type="text" class="border-b border-gray-400 outline-none px-2 print:hidden" style="width:220px" /></p>
        </div>
        <form id="grammarTest">
        <!-- Phần 1: Trắc nghiệm -->
        <div class="section mb-8">
            <div class="section-title font-semibold mb-3">Phần 1: Trắc nghiệm (4 điểm) - Multiple Choice (4 marks)</div>
            <p class="mb-4">Chọn đáp án đúng nhất (Choose the best answer):</p>
            <div class="space-y-2">
                <div class="question" data-answer="B">
                    <label>1. He ____ a teacher.</label>
                    <div class="grid grid-cols-2 gap-x-8">
                        <label class=""><input type="radio" name="mcq1" value="A" class="mr-2">A. are</label>
                        <label class=""><input type="radio" name="mcq1" value="B" class="mr-2">B. is</label>
                        <label class=""><input type="radio" name="mcq1" value="C" class="mr-2">C. am</label>
                        <label class=""><input type="radio" name="mcq1" value="D" class="mr-2">D. be</label>
                    </div>
                </div>
                <div class="question" data-answer="A">
                    <label>2. Which is a modal verb?</label>
                    <div class="grid grid-cols-2 gap-x-8">
                        <label class=""><input type="radio" name="mcq2" value="A" class="mr-2">A. can</label>
                        <label class=""><input type="radio" name="mcq2" value="B" class="mr-2">B. is</label>
                        <label class=""><input type="radio" name="mcq2" value="C" class="mr-2">C. goes</label>
                        <label class=""><input type="radio" name="mcq2" value="D" class="mr-2">D. am</label>
                    </div>
                </div>
                <div class="question" data-answer="B">
                    <label>3. Which sentence is correct?</label>
                    <div class="grid grid-cols-2 gap-x-8">
                        <label class=""><input type="radio" name="mcq3" value="A" class="mr-2">A. She should goes.</label>
                        <label class=""><input type="radio" name="mcq3" value="B" class="mr-2">B. She should go.</label>
                        <label class=""><input type="radio" name="mcq3" value="C" class="mr-2">C. She should to go.</label>
                        <label class=""><input type="radio" name="mcq3" value="D" class="mr-2">D. She should going.</label>
                    </div>
                </div>
                <div class="question" data-answer="B">
                    <label>4. They ____ at home now.</label>
                    <div class="grid grid-cols-2 gap-x-8">
                        <label class=""><input type="radio" name="mcq4" value="A" class="mr-2">A. is</label>
                        <label class=""><input type="radio" name="mcq4" value="B" class="mr-2">B. are</label>
                        <label class=""><input type="radio" name="mcq4" value="C" class="mr-2">C. am</label>
                        <label class=""><input type="radio" name="mcq4" value="D" class="mr-2">D. be</label>
                    </div>
                </div>
                <div class="question" data-answer="A">
                    <label>5. Which is a possessive adjective?</label>
                    <div class="grid grid-cols-2 gap-x-8">
                        <label class=""><input type="radio" name="mcq5" value="A" class="mr-2">A. his</label>
                        <label class=""><input type="radio" name="mcq5" value="B" class="mr-2">B. him</label>
                        <label class=""><input type="radio" name="mcq5" value="C" class="mr-2">C. he</label>
                        <label class=""><input type="radio" name="mcq5" value="D" class="mr-2">D. hers</label>
                    </div>
                </div>
                <div class="question" data-answer="B">
                    <label>6. Which sentence uses "to be" correctly?</label>
                    <div class="grid grid-cols-2 gap-x-8">
                        <label class=""><input type="radio" name="mcq6" value="A" class="mr-2">A. I are happy.</label>
                        <label class=""><input type="radio" name="mcq6" value="B" class="mr-2">B. I am happy.</label>
                        <label class=""><input type="radio" name="mcq6" value="C" class="mr-2">C. I is happy.</label>
                        <label class=""><input type="radio" name="mcq6" value="D" class="mr-2">D. I be happy.</label>
                    </div>
                </div>
                <div class="question" data-answer="A">
                    <label>7. Which is a descriptive adjective?</label>
                    <div class="grid grid-cols-2 gap-x-8">
                        <label class=""><input type="radio" name="mcq7" value="A" class="mr-2">A. tall</label>
                        <label class=""><input type="radio" name="mcq7" value="B" class="mr-2">B. my</label>
                        <label class=""><input type="radio" name="mcq7" value="C" class="mr-2">C. her</label>
                        <label class=""><input type="radio" name="mcq7" value="D" class="mr-2">D. his</label>
                    </div>
                </div>
                <div class="question" data-answer="A">
                    <label>8. Which is a correct noun phrase?</label>
                    <div class="grid grid-cols-2 gap-x-8">
                        <label class=""><input type="radio" name="mcq8" value="A" class="mr-2">A. a smart boy</label>
                        <label class=""><input type="radio" name="mcq8" value="B" class="mr-2">B. boy smart</label>
                        <label class=""><input type="radio" name="mcq8" value="C" class="mr-2">C. the smarts</label>
                        <label class=""><input type="radio" name="mcq8" value="D" class="mr-2">D. a smart</label>
                    </div>
                </div>
                <div class="question" data-answer="A">
                    <label>9. Which is a possessive pronoun?</label>
                    <div class="grid grid-cols-2 gap-x-8">
                        <label class=""><input type="radio" name="mcq9" value="A" class="mr-2">A. mine</label>
                        <label class=""><input type="radio" name="mcq9" value="B" class="mr-2">B. my</label>
                        <label class=""><input type="radio" name="mcq9" value="C" class="mr-2">C. me</label>
                        <label class=""><input type="radio" name="mcq9" value="D" class="mr-2">D. I</label>
                    </div>
                </div>
                <div class="question" data-answer="A">
                    <label>10. Which is a correct sentence?</label>
                    <div class="grid grid-cols-2 gap-x-8">
                        <label class=""><input type="radio" name="mcq10" value="A" class="mr-2">A. This is her bag.</label>
                        <label class=""><input type="radio" name="mcq10" value="B" class="mr-2">B. This is hers bag.</label>
                        <label class=""><input type="radio" name="mcq10" value="C" class="mr-2">C. This is she bag.</label>
                        <label class=""><input type="radio" name="mcq10" value="D" class="mr-2">D. This is me bag.</label>
                    </div>
                </div>
                <div class="question" data-answer="B">
                    <label>11. She ____ (play) the piano every day.</label>
                    <div class="grid grid-cols-2 gap-x-8">
                        <label class=""><input type="radio" name="mcq11" value="A" class="mr-2">A. play</label>
                        <label class=""><input type="radio" name="mcq11" value="B" class="mr-2">B. plays</label>
                        <label class=""><input type="radio" name="mcq11" value="C" class="mr-2">C. playing</label>
                        <label class=""><input type="radio" name="mcq11" value="D" class="mr-2">D. to play</label>
                    </div>
                </div>
                <div class="question" data-answer="A">
                    <label>12. They ____ (study) English on Mondays.</label>
                    <div class="grid grid-cols-2 gap-x-8">
                        <label class=""><input type="radio" name="mcq12" value="A" class="mr-2">A. study</label>
                        <label class=""><input type="radio" name="mcq12" value="B" class="mr-2">B. studies</label>
                        <label class=""><input type="radio" name="mcq12" value="C" class="mr-2">C. studying</label>
                        <label class=""><input type="radio" name="mcq12" value="D" class="mr-2">D. to study</label>
                    </div>
                </div>
                <div class="question" data-answer="C">
                    <label>13. He ____ (watch) TV every night.</label>
                    <div class="grid grid-cols-2 gap-x-8">
                        <label class=""><input type="radio" name="mcq13" value="A" class="mr-2">A. watch</label>
                        <label class=""><input type="radio" name="mcq13" value="B" class="mr-2">B. watched</label>
                        <label class=""><input type="radio" name="mcq13" value="C" class="mr-2">C. watches</label>
                        <label class=""><input type="radio" name="mcq13" value="D" class="mr-2">D. watching</label>
                    </div>
                </div>
                <div class="question" data-answer="A">
                    <label>14. I ____ (like) oranges.</label>
                    <div class="grid grid-cols-2 gap-x-8">
                        <label class=""><input type="radio" name="mcq14" value="A" class="mr-2">A. like</label>
                        <label class=""><input type="radio" name="mcq14" value="B" class="mr-2">B. likes</label>
                        <label class=""><input type="radio" name="mcq14" value="C" class="mr-2">C. liking</label>
                        <label class=""><input type="radio" name="mcq14" value="D" class="mr-2">D. to like</label>
                    </div>
                </div>
                <div class="question" data-answer="B">
                    <label>15. My father ____ (cook) very well.</label>
                    <div class="grid grid-cols-2 gap-x-8">
                        <label class=""><input type="radio" name="mcq15" value="A" class="mr-2">A. cook</label>
                        <label class=""><input type="radio" name="mcq15" value="B" class="mr-2">B. cooks</label>
                        <label class=""><input type="radio" name="mcq15" value="C" class="mr-2">C. cooking</label>
                        <label class=""><input type="radio" name="mcq15" value="D" class="mr-2">D. cooked</label>
                    </div>
                </div>
                <div class="question" data-answer="A">
                    <label>16. We ____ (read) books at school.</label>
                    <div class="grid grid-cols-2 gap-x-8">
                        <label class=""><input type="radio" name="mcq16" value="A" class="mr-2">A. read</label>
                        <label class=""><input type="radio" name="mcq16" value="B" class="mr-2">B. reads</label>
                        <label class=""><input type="radio" name="mcq16" value="C" class="mr-2">C. reading</label>
                        <label class=""><input type="radio" name="mcq16" value="D" class="mr-2">D. readed</label>
                    </div>
                </div>
                <div class="question" data-answer="C">
                    <label>17. She ____ (finish) her homework every day.</label>
                    <div class="grid grid-cols-2 gap-x-8">
                        <label class=""><input type="radio" name="mcq17" value="A" class="mr-2">A. finish</label>
                        <label class=""><input type="radio" name="mcq17" value="B" class="mr-2">B. finished</label>
                        <label class=""><input type="radio" name="mcq17" value="C" class="mr-2">C. finishes</label>
                        <label class=""><input type="radio" name="mcq17" value="D" class="mr-2">D. finishing</label>
                    </div>
                </div>
                <div class="question" data-answer="A">
                    <label>18. You ____ (close) the door, please.</label>
                    <div class="grid grid-cols-2 gap-x-8">
                        <label class=""><input type="radio" name="mcq18" value="A" class="mr-2">A. close</label>
                        <label class=""><input type="radio" name="mcq18" value="B" class="mr-2">B. closes</label>
                        <label class=""><input type="radio" name="mcq18" value="C" class="mr-2">C. closing</label>
                        <label class=""><input type="radio" name="mcq18" value="D" class="mr-2">D. closed</label>
                    </div>
                </div>
                <div class="question" data-answer="B">
                    <label>19. The dog often ____ (catch) balls in the yard.</label>
                    <div class="grid grid-cols-2 gap-x-8">
                        <label class=""><input type="radio" name="mcq19" value="A" class="mr-2">A. catch</label>
                        <label class=""><input type="radio" name="mcq19" value="B" class="mr-2">B. catches</label>
                        <label class=""><input type="radio" name="mcq19" value="C" class="mr-2">C. catched</label>
                        <label class=""><input type="radio" name="mcq19" value="D" class="mr-2">D. catching</label>
                    </div>
                </div>
                <div class="question" data-answer="A">
                    <label>20. I ____ (write) stories every week.</label>
                    <div class="grid grid-cols-2 gap-x-8">
                        <label class=""><input type="radio" name="mcq20" value="A" class="mr-2">A. write</label>
                        <label class=""><input type="radio" name="mcq20" value="B" class="mr-2">B. writes</label>
                        <label class=""><input type="radio" name="mcq20" value="C" class="mr-2">C. writing</label>
                        <label class=""><input type="radio" name="mcq20" value="D" class="mr-2">D. to write</label>
                    </div>
                </div>
            </div>
        </div>
        <!-- Phần 2: Tìm lỗi sai -->
        <div class="section mb-8">
            <div class="section-title font-semibold mb-3">Phần 2: Tìm lỗi sai và viết lại câu hoàn chỉnh (2 điểm) - Error Correction (2 marks)</div>
            <p class="mb-4">Tìm lỗi sai và viết lại câu đúng (Find the errors and rewrite the sentences correctly):</p>
            <div class="space-y-4">
                <div class="question" data-answer="This is his bag.">1. This is him bag.<br>
                    <textarea name="err1" class="border border-gray-300 rounded w-full mt-1 p-1" rows="1"></textarea>
                </div>
                <div class="question" data-answer="They are smart students.">2. They is smart students.<br>
                    <textarea name="err2" class="border border-gray-300 rounded w-full mt-1 p-1" rows="1"></textarea>
                </div>
                <div class="question" data-answer="She can run very fast.">3. She can runs very fast.<br>
                    <textarea name="err3" class="border border-gray-300 rounded w-full mt-1 p-1" rows="1"></textarea>
                </div>
                <div class="question" data-answer="He has a new bike.">4. He have a new bike.<br>
                    <textarea name="err4" class="border border-gray-300 rounded w-full mt-1 p-1" rows="1"></textarea>
                </div>
                <div class="question" data-answer="This is my sister's book.">5. This is my sisters book.<br>
                    <textarea name="err5" class="border border-gray-300 rounded w-full mt-1 p-1" rows="1"></textarea>
                </div>
            </div>
        </div>
        <!-- Phần 3: Sắp xếp từ -->
        <div class="section mb-8">
            <div class="section-title font-semibold mb-3">Phần 3: Sắp xếp từ để tạo thành câu hoàn chỉnh (2 điểm) - Rearrangement (2 marks)</div>
            <p class="mb-4">Sắp xếp các từ sau thành câu hoàn chỉnh (Rearrange the words to make correct sentences):</p>
            <div class="space-y-4">
                <div class="question" data-answer="You must clean your room.">1. must / your / you / clean / room<br>
                    <textarea name="rw1" class="border border-gray-300 rounded w-full mt-1 p-1" rows="1"></textarea>
                </div>
                <div class="question" data-answer="Tom is a clever boy.">2. is / a / boy / Tom / clever<br>
                    <textarea name="rw2" class="border border-gray-300 rounded w-full mt-1 p-1" rows="1"></textarea>
                </div>
                <div class="question" data-answer="He can swim very well.">3. can / swim / well / very / he<br>
                    <textarea name="rw3" class="border border-gray-300 rounded w-full mt-1 p-1" rows="1"></textarea>
                </div>
                <div class="question" data-answer="This is my red bag.">4. is / bag / my / this / red<br>
                    <textarea name="rw4" class="border border-gray-300 rounded w-full mt-1 p-1" rows="1"></textarea>
                </div>
                <div class="question" data-answer="You should eat more fruits.">5. should / eat / fruits / you / more<br>
                    <textarea name="rw5" class="border border-gray-300 rounded w-full mt-1 p-1" rows="1"></textarea>
                </div>
            </div>
        </div>
        <!-- Phần 4: Điền từ vào đoạn văn -->
        <div class="section mb-8">
            <div class="section-title font-semibold mb-3">Phần 4: Điền từ vào đoạn văn (2 điểm) - Cloze Test (2 marks)</div>
            <p class="mb-4">Điền từ thích hợp vào chỗ trống trong đoạn văn sau (Fill in the blanks with appropriate words):</p>
            <p>
                <span class="question" data-answer="is">Anna <input type="text" name="cloze1" class="border-b border-gray-400 w-20 px-1"></span> (1) a student. 
                She <span class="question" data-answer="can"><input type="text" name="cloze2" class="border-b border-gray-400 w-20 px-1"></span> (2) play the guitar. 
                She has a <span class="question" data-answer="black"><input type="text" name="cloze3" class="border-b border-gray-400 w-24 px-1"></span> (3) cat. 
                This is <span class="question" data-answer="her"><input type="text" name="cloze4" class="border-b border-gray-400 w-20 px-1"></span> (4) house. 
                She <span class="question" data-answer="must"><input type="text" name="cloze5" class="border-b border-gray-400 w-20 px-1"></span> (5) study every day to improve.
            </p>
            <!-- Instructions -->
            <div class="instructions mt-3">
                <p>1. A to be verb (một động từ "to be")</p>
                <p>2. A modal verb (một động từ khiếm khuyết)</p>
                <p>3. Adjective for color (tính từ chỉ màu sắc)</p>
                <p>4. A possessive adjective (một tính từ sở hữu)</p>
                <p>5. A modal verb (một động từ khiếm khuyết)</p>
            </div>
        </div>
        <div class="flex justify-center mt-8 print:hidden">
            <button type="button" onclick="gradeTest()" class="bg-blue-600 text-white px-6 py-2 rounded shadow hover:bg-blue-700 font-semibold">Nộp bài / Submit</button>
        </div>
        <div id="result" class="mt-8 text-center text-lg font-bold print:hidden" style="display:none"></div>
        </form>
    </div>
    <script>
    function getAnswersFromAttr(questionElem) {
        // Trả về mảng đáp án (có thể nhiều đáp án, phân tách bằng ||)
        return (questionElem.getAttribute('data-answer')||'').split('||').map(s=>s.trim());
    }
    function gradeTest() {
        let score = 0;
        let form = document.forms['grammarTest'];
        // Reset all highlights
        document.querySelectorAll('.question').forEach(q => {
            q.querySelectorAll('input[type=radio], input[type=text], textarea').forEach(input => {
                input.classList.remove('bg-green-100','border-green-500','bg-red-100','border-red-500','border-2');
                if(input.type==='radio') input.parentElement.classList.remove('bg-green-100','border-green-500','bg-red-100','border-red-500','border-2');
            });
        });
        // MCQ
        for(let i=1;i<=20;i++){
            let qElem = document.querySelector(`.question input[name=mcq${i}]`).closest('.question');
            let correct = getAnswersFromAttr(qElem)[0];
            let radioList = form.querySelectorAll(`input[name=mcq${i}]`);
            radioList.forEach(radio => {
                if(radio.checked){
                    if(radio.value === correct){
                        radio.parentElement.classList.add('bg-green-100','border-green-500','border-2');
                        score += 0.2;
                    } else {
                        radio.parentElement.classList.add('bg-red-100','border-red-500','border-2');
                    }
                }
            });
        }
        // Error correction
        for(let i=1;i<=5;i++){
            let qElem = document.querySelector(`textarea[name=err${i}]`).closest('.question');
            let corrects = getAnswersFromAttr(qElem).map(ans=>ans.toLowerCase());
            let val = form[`err${i}`].value.trim().toLowerCase();
            if(corrects.includes(val)){
                form[`err${i}`].classList.add('bg-green-100','border-green-500','border-2'); score += 0.4;
            } else {
                form[`err${i}`].classList.add('bg-red-100','border-red-500','border-2');
            }
        }
        // Rearrangement
        for(let i=1;i<=5;i++){
            let qElem = document.querySelector(`textarea[name=rw${i}]`).closest('.question');
            let corrects = getAnswersFromAttr(qElem).map(ans=>ans.toLowerCase());
            let val = form[`rw${i}`].value.trim().toLowerCase();
            if(corrects.some(ans=>val===ans)){
                form[`rw${i}`].classList.add('bg-green-100','border-green-500','border-2'); score += 0.4;
            } else {
                form[`rw${i}`].classList.add('bg-red-100','border-red-500','border-2');
            }
        }
        // Cloze
        for(let i=1;i<=5;i++){
            let input = form[`cloze${i}`];
            let qElem = input.closest('.question');
            let corrects = getAnswersFromAttr(qElem).map(ans=>ans.toLowerCase());
            let val = input.value.trim().toLowerCase();
            if(corrects.includes(val)){
                input.classList.add('bg-green-100','border-green-500','border-2'); score += 0.4;
            } else {
                input.classList.add('bg-red-100','border-red-500','border-2');
            }
        }
        // Show result
        document.getElementById('result').style.display = '';
        document.getElementById('result').innerHTML = `Điểm của bạn: <span class="text-blue-700">${score.toFixed(1)} / 10</span>`;
    }
    </script>
</body>
</html>